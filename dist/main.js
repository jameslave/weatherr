!function e(t,n,r){function o(c,u){if(!n[c]){if(!t[c]){var a="function"==typeof require&&require;if(!u&&a)return a(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+c+"'")}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){var n=t[c][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,t,n){"use strict";document.cookie="temp=f",document.cookie="hours=8";var r=e("./refresh"),o=document.getElementById("refresh-icon"),i=document.getElementById("settings-icon"),c=document.getElementById("settings-menu");document.querySelectorAll(".toggle-item");o.addEventListener("click",function(){r()}),window.addEventListener("load",function(){c.style.right=window.innerWidth-i.getBoundingClientRect().right+"px"}),i.addEventListener("click",function(){c.style.height="80px"}),r()},{"./refresh":5}],2:[function(e,t,n){"use strict";function r(e){document.getElementById("location").innerText=e.loc}function o(e){var t=document.getElementById("temp"),n=document.cookie?document.cookie.match(/temp=(f|c)/)[1]||"f":"f";t.innerText=e[n]+" Â°"+n.toUpperCase()}function i(e,t){var n=document.getElementById("forecast-hours"),r=document.getElementById("forecast-temp-text"),o=document.getElementById("forecast-wind-text"),i=document.getElementById("forecast-precip-text");n.innerText=t,r.innerText=e.tempStr,o.innerText=e.windStr,i.innerText=e.precipStr}function c(e){var t=document.getElementsByTagName("main")[0],n="img/backgrounds/"+e.maxForecast+".jpg",r="url('"+n+"') no-repeat center center";t.style.background="linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), "+r}function u(e){document.getElementById("current-icon").setAttribute("src","img/icons/"+e.icon+".svg")}n.inject=function(e,t){return new Promise(function(n){r(e),u(e),o(e),i(e,t),c(e),n()})}},{}],3:[function(e,t,n){"use strict";n.get=function(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e({lat:t.coords.latitude,lon:t.coords.longitude})}):t(Error("Browser does not support geolocation"))})},n.send=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("POST","/location",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e)),r.onerror=function(){n(Error("Connection to server failed"))},r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t(JSON.parse(r.responseText))}})}},{}],4:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return e>=t&&e<n}function i(e,t){var n=parseInt(e.current_observation.feelslike_f),r=e.hourly_forecast.slice(0,t).map(function(e){return parseInt(e.temp.english)}),o=r.reduce(function(e,t){return e+t})/t,i=o-n,c={2:"very cold",3:"cold",4:"chilly",5:"cool",6:"nice",7:"really nice",8:"hot",9:"very hot"},u=function(e){var t=Math.floor(e/10);return t<2?c[2]:t>9?c[9]:c[t]}(n),a=function(e){return e>8?"get much warmer":e>3?"get warmer":Math.abs(e)<=3?"stay "+u:e<-3?"get cooler":"get much cooler"}(i),s="It's going to ";return s+=a,s+="."}function c(e,t){var n=parseInt(e.current_observation.wind_mph),r=e.hourly_forecast.slice(0,t).map(function(e){return parseInt(e.wspd.english)}),i=r.reduce(function(e,t){return e+t})/t,c=i-n,u=function(e){return e>=20?"really windy":o(e,10,20)?"windy":o(e,5,10)?"breezy":"calm"}(n),a=function(e){return e>10?"get much windier":e>5?"get windier":Math.abs(e)<=5?"stay "+u:e<-5?"get calmer":"get much calmer"}(c),s="It's going to ";return s+=a,s+="."}function u(e,t){var n=e.hourly_forecast.slice(0,t),i=n.map(function(e){return parseInt(e.pop)}),c=n.map(function(e){return parseInt(e.fctcode)}),u=Math.max.apply(Math,r(i)),a=Math.max.apply(Math,r(c));[10,12,14,18,20,22].includes(a)&&a++;var s=function(e){return e>=80?"It will be wet":o(e,40,80)?"There's a good chance of precipitation":o(e,10,40)?"There's a slight chance of precipitation":"It will be dry"}(u),f=s;return f+=".",{maxForecast:a,str:f}}n.parse=function(e,t){return new Promise(function(n){var r={},o=e.current_observation.icon_url.match(/\w\/(\w+).gif$/)[1];r.loc=e.current_observation.display_location.city,r.icon=o,r.f=e.current_observation.feelslike_f,r.c=e.current_observation.feelslike_c,r.tempStr=i(e,t),r.windStr=c(e,t);var a=u(e,t);r.precipStr=a.str,r.maxForecast=a.maxForecast,n(r)})}},{}],5:[function(e,t,n){"use strict";function r(){return new Promise(function(e){f.classList.add("animate-spin"),e()})}function o(){return new Promise(function(e){s.classList.add("animate-fade"),f.classList.remove("animate-spin"),f.classList.contains("hidden")&&f.classList.remove("hidden"),e()})}var i=e("./location"),c=e("./parser"),u=e("./injector"),a=document.cookie?document.cookie.match(/hours=(\d{1,2})/)[1]||8:8,s=document.getElementById("loading-screen"),f=document.getElementById("refresh-icon");t.exports=function(){r().then(function(){return i.get()}).then(function(e){return i.send(e)}).then(function(e){return c.parse(e,a)}).then(function(e){return u.inject(e,a)}).then(function(){return o()})}},{"./injector":2,"./location":3,"./parser":4}]},{},[1]);